<div class="row form-content">
  <h3 class="subtitle"> Todo item list
    <button class="btn btn-dark new-item" (click)="newItemClick()">New</button>
  </h3>
</div>
<table class="table table-striped table-bordered table-hover">
  <thead class="header">
  <tr>
    <th>Name</th>
    <th>Time</th>
    <th>Priority</th>
    <th>Deadline</th>
    <th>
      <form>
        <label for="limit" style="padding-right: 8px;">Items per page: </label>
        <input type="text" [(ngModel)]="queryRequestDto.limit" [value]="queryRequestDto.limit" name="limit" id="limit" size="2" (change)="limitChanged()">
      </form>
    </th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let todoItem of queryResponse.todoItems" (click)="updateTodoItem(todoItem.id)">
    <td>{{ todoItem.name }}</td>
    <td>{{ displayDate(todoItem.createdAt) | date: 'yyyy.MM.dd HH:mm:ss' }}</td>
    <td>{{ todoItem.priority }}</td>
    <td>{{ (todoItem.deadline !== null && todoItem.deadline !== undefined) ? (displayDate(todoItem.deadline) | date: 'yyyy.MM.dd') : "-" }}</td>
    <td>
      <button (click)="deleteTodoItem(todoItem.id)" class="btn btn-delete"></button>
    </td>
  </tr>
  </tbody>
</table>
<nav aria-label="Page navigation example">
  <ul class="pagination">
    <li class="page-item" [class.disabled]="queryResponse.pageNumber === 0">
      <a class="page-link" [attr.aria-disabled]="queryResponse.pageNumber === 0" href="#" (click)="gotoPage(queryResponse.pageNumber - 1)">Previous</a>
    </li>
    <li class="page-item" *ngFor="let key of pages() ; let i = index" [class.active]="queryResponse.pageNumber === i"
        [attr.aria-current]="queryResponse.pageNumber === i">
      <a class="page-link" href="#" (click)="gotoPage(i)">{{i + 1}}</a>
    </li>
    <li class="page-item" [class.disabled]="queryResponse.pageNumber === queryResponse.totalPages">
      <a class="page-link" [attr.aria-disabled]="queryResponse.pageNumber === 0" href="#" (click)="gotoPage(queryResponse.pageNumber + 1)">Next</a>
    </li>
  </ul>
</nav>
<div>
  <div class="paging-item">
    <span class="paging-label">Total items:</span>
    <span class="paging-value" [innerText]="queryResponse.totalElements"></span>
  </div>
  <div class="paging-item">
    <span class="paging-label">Total pages:</span>
    <span class="paging-value" [innerText]="queryResponse.totalPages"></span>
  </div>
  <div class="paging-item">
    <span class="paging-label">Page:</span>
    <span class="paging-value" [innerText]="(queryResponse.pageNumber + 1)"></span>
    <span class="paging-static">/</span>
    <span class="paging-value" [innerText]="queryResponse.totalPages"></span>
  </div>
</div>
